- ancestor = page_ancestor(page)
- parent = page_parent(page)
- html_class ||= ""

ruby:
  current_classes = [
    html_class,
    ("d-none d-sm-block" if page_is_editorial(page) && main_locale?(locale))
  ].join(" ")

nav.breadcrumb-container aria-label="Sei qui"
  ol.breadcrumb.mt-4.mb-5.justify-content-center.justify-content-sm-start
    li.breadcrumb-item.d-none.d-sm-block
      = link_to t("home_label"),
        locale_path("/"),
        class: html_class

      span.separator
        = "/"

    - if page_is_explore(page)
      li.breadcrumb-item
        = t("explore_breadcrumb_prefix")
        span.separator
          = "/"

    - if ancestor
      li.breadcrumb-item
        = link_to menu_label_with_fallback(ancestor),
          page_path(ancestor),
          class: html_class

        span.separator class="#{current_classes unless parent}"
          = "/"

    - if parent
      li.breadcrumb-item
        = link_to menu_label_with_fallback(parent),
          page_path(parent),
          class: html_class

        span.separator class=current_classes
          = "/"

    - if !main_locale?(locale)
      li.breadcrumb-item
        .text-capitalize
          = locale

        span.separator
          = "/"

    li.breadcrumb-item.active aria-current='page'
      span class=current_classes
        = menu_label_with_fallback(page)
